<%- include ("../_partials/_header.ejs"); %>

<div class="row" style="text-align: center; background-color: whitesmoke; width: 90%; border-radius: 50px; margin:16px;">
    <p  style="font-size: 32px; color: black; margin: 16px; text-align: left; padding-left: 16px;"><b>Management Tools:</b></p>
    <div>
    <form method="GET" action="/sendSignedUpEventReminder">
        <input type="hidden" id="reminderEventName" name="reminderEventName" value="<%= eventInfo.eventName%>">
        <input style="border: solid darkgreen 2px; border-radius: 10px; height: 50px; width: 80%; margin:16px; background-color: darkgreen; color: white; font-size: 24px;" type="submit" value="Send Reminder to Registered">
    </form>
    </div>
   
    <form method="GET" action="/sendNotSignedUpEventReminder">
        <input type="hidden" id="reminderEventName" name="reminderEventName" value="<%= eventInfo.eventName%>">
        <input style="border: solid darkgreen 2px; border-radius: 10px; height: 50px; width: 80%; margin:16px; background-color: darkgreen; color: white; font-size: 24px;" type="submit" value="Send Reminder to Unregistered">
    </form>
     
<form method="GET" action="/eventRegister">
    <input type="hidden" id="chosenEventName" name="chosenEventName" value="<%= eventInfo.eventName%>">
    <input style="border: solid darkgreen 2px; border-radius: 10px; height: 50px; width: 80%; margin:16px; background-color: darkgreen; color: white; font-size: 24px;" type="submit" value="Register">
</form>
</div>
<div>
    <p style="font-size: 32px; color: black; margin: 16px;">Event Statistics: </p>
        <div style="margin: 16px;">
            <p style="color: black; font-size: 24px; text-align: left">Event Name: <%=eventInfo.eventName%></p>
            <p style="color: black; font-size: 18px; text-align: left">Number of Registered Attendees: <%=attending%></p>
            <table style="border-style: solid; border-color: green; border-width: 3px;">
                <tr>
                    <th style="padding: 15px; text-align: center; min-width: 150px; border: solid black 1px">Name</th>
                    <th style="padding: 15px; text-align: center; min-width: 150px; border: solid black 1px">School</th>
                    <th style="padding: 15px; text-align: center; min-width: 150px; border: solid black 1px">Email Address</th>
                    <%eventInfo.eventFields.split(',').forEach(function(head){%>
                        <th style="padding: 15px; text-align: center; min-width: 150px; border: solid black 1px"><%=head%></th>
                    <%});%>
                </tr> 
                <%eventInfo.registered.forEach(function(curAttendee){%>
                    <tr>
                        <%curAttendee.forEach(function(stat){%>
                            <td style="padding: 15px; text-align: center; min-width: 150px; border: solid black 1px"><%=stat%></td>
                        <%});%>
                    </tr>
                <%});%>
            </table>
        </div>
</div>
